<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AppForge - From Imagination to Installation</title>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Icons -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="apple-touch-icon" sizes="192x192" href="icon-192.png">
    <link rel="apple-touch-icon" sizes="512x512" href="icon-512.png">
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/apk-builder.css">
    <link rel="stylesheet" href="css/syntax-highlight.css">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@300;400;500&display=swap" rel="stylesheet">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: #f5f7fa; color: #333; }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-logo">üî®</div>
            <h1>AppForge</h1>
            <p>Loading your app builder...</p>
            <div class="loading-bar">
                <div class="loading-progress"></div>
            </div>
        </div>
    </div>

    <!-- Main App Container -->
    <div id="appContainer" class="app-container" style="display: none;">
        <!-- Header -->
        <header class="app-header">
            <div class="header-left">
                <div class="logo">üî® <span>AppForge</span></div>
                <nav class="main-nav">
                    <button class="nav-btn active" data-tab="editor">Editor</button>
                    <button class="nav-btn" data-tab="templates">Templates</button>
                    <button class="nav-btn" data-tab="ai-generator">AI Generator</button>
                    <button class="nav-btn" data-tab="export">Export</button>
                    <button class="nav-btn" data-tab="account">Account</button>
                </nav>
            </div>
            <div class="header-right">
                <button id="themeToggle" class="icon-btn" title="Toggle theme">üåì</button>
                <button id="saveBtn" class="btn btn-outline">Save</button>
                <button id="previewBtn" class="btn btn-primary">Preview</button>
                <div class="user-menu">
                    <span id="userName">Guest</span>
                    <div class="user-dropdown">
                        <button id="loginBtn">Login</button>
                        <button id="registerBtn">Register</button>
                        <button id="upgradeBtn">Upgrade to Pro</button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Editor Tab -->
            <div id="editorTab" class="tab-content active">
                <div class="editor-container">
                    <div class="code-editor-section">
                        <div class="editor-header">
                            <h3>HTML Code Editor</h3>
                            <div class="editor-tools">
                                <button class="tool-btn" title="Format Code">‚ú®</button>
                                <button class="tool-btn" title="Minify">üì¶</button>
                                <button class="tool-btn" title="Clear">üóëÔ∏è</button>
                            </div>
                        </div>
                        <textarea id="codeEditor" class="code-editor" placeholder="Start typing your HTML here...">
<!DOCTYPE html>
<html>
<head>
    <title>My App</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 30px;
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }
        h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
        }
        p {
            font-size: 1.2em;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Welcome to Your App</h1>
        <p>This is a sample app created with AppForge. Edit this code to build your own amazing application!</p>
        <button onclick="alert('Hello from AppForge!')" style="padding: 12px 24px; background: white; color: #667eea; border: none; border-radius: 10px; font-size: 1.1em; cursor: pointer; margin-top: 20px;">
            Click Me
        </button>
    </div>
    <script>
        console.log('AppForge app loaded');
    </script>
</body>
</html>
                        </textarea>
                        <div class="editor-stats">
                            <span>Lines: <span id="lineCount">25</span></span>
                            <span>Chars: <span id="charCount">1200</span></span>
                        </div>
                    </div>
                    
                    <div class="preview-section">
                        <div class="preview-header">
                            <h3>Mobile Preview</h3>
                            <div class="preview-options">
                                <button class="size-btn active" data-size="mobile">üì± Mobile</button>
                                <button class="size-btn" data-size="tablet">üìü Tablet</button>
                                <button class="size-btn" data-size="desktop">üñ•Ô∏è Desktop</button>
                                <button id="refreshPreview" class="icon-btn">üîÑ</button>
                            </div>
                        </div>
                        <div class="preview-frame-container">
                            <div class="device-frame">
                                <div class="device-top-bar">
                                    <div class="device-notch"></div>
                                </div>
                                <iframe id="previewFrame" class="preview-frame"></iframe>
                                <div class="device-bottom-bar">
                                    <div class="home-indicator"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Templates Tab -->
            <div id="templatesTab" class="tab-content">
                <div class="templates-container">
                    <h2>Choose a Template</h2>
                    <div class="template-grid" id="templateGrid">
                        <!-- Templates will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- AI Generator Tab -->
            <div id="aiGeneratorTab" class="tab-content">
                <div class="ai-generator-container">
                    <h2>AI App Generator</h2>
                    <div class="ai-input-section">
                        <textarea id="aiPrompt" class="ai-prompt-input" placeholder="Describe the app you want to build... 
Example: 'A task manager app with dark theme, drag and drop tasks, and notifications'"></textarea>
                        <div class="ai-options">
                            <select id="aiProvider">
                                <option value="puter">Grok AI (Free - No API Key)</option>
                                <option value="openai">OpenAI GPT-4 (API Key Required)</option>
                                <option value="claude">Claude 3 (API Key Required)</option>
                                <option value="gemini">Google Gemini (API Key Required)</option>
                            </select>
                            <input type="password" id="apiKeyInput" placeholder="API Key (if required)" style="display: none;">
                            <button id="generateAppBtn" class="btn btn-primary btn-large">‚ú® Generate App</button>
                        </div>
                    </div>
                    <div class="ai-result-section">
                        <div class="loading-ai" style="display: none;">
                            <div class="ai-thinking">ü§î AI is thinking...</div>
                            <div class="ai-progress"></div>
                        </div>
                        <div id="aiResult" class="ai-result"></div>
                    </div>
                </div>
            </div>

            <!-- Export Tab -->
            <div id="exportTab" class="tab-content">
                <div class="export-container">
                    <h2>Export Your App</h2>
                    <div class="export-options">
                        <div class="export-card" data-export="html">
                            <div class="export-icon">üìÑ</div>
                            <h3>HTML Export</h3>
                            <p>Download as HTML file</p>
                            <button class="btn btn-outline export-btn">Download HTML</button>
                        </div>
                        <div class="export-card" data-export="pwa">
                            <div class="export-icon">üì±</div>
                            <h3>PWA Package</h3>
                            <p>Progressive Web App with manifest</p>
                            <button class="btn btn-outline export-btn">Create PWA</button>
                        </div>
                        <div class="export-card" data-export="apk">
                            <div class="export-icon">ü§ñ</div>
                            <h3>Android APK</h3>
                            <p>Convert to Android app (Pro Feature)</p>
                            <button class="btn btn-primary export-btn">Build APK ($4.99)</button>
                        </div>
                        <div class="export-card" data-export="ios">
                            <div class="export-icon">üçé</div>
                            <h3>iOS App</h3>
                            <p>Export for iOS (Coming Soon)</p>
                            <button class="btn btn-outline" disabled>Coming Soon</button>
                        </div>
                    </div>
                    <div class="license-info">
                        <h3>License & Copyright</h3>
                        <p>All apps created with AppForge include our copyright protection system. Upgrade to Pro to remove branding.</p>
                        <div class="license-status">
                            <span>Status: <strong>Free Tier</strong></span>
                            <span>Exports remaining: <strong>3/3</strong></span>
                            <button id="upgradeLicenseBtn" class="btn btn-primary">Upgrade to Pro</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Account Tab -->
            <div id="accountTab" class="tab-content">
                <div class="account-container">
                    <h2>Your Account</h2>
                    <div class="account-info">
                        <div class="account-card">
                            <h3>Usage Statistics</h3>
                            <div class="stats-grid">
                                <div class="stat-item">
                                    <span class="stat-label">Apps Created</span>
                                    <span class="stat-value" id="appsCreated">0</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">AI Generations</span>
                                    <span class="stat-value" id="aiGenerations">0</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">PWA Exports</span>
                                    <span class="stat-value" id="pwaExports">0</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">APK Builds</span>
                                    <span class="stat-value" id="apkBuilds">0</span>
                                </div>
                            </div>
                        </div>
                        <div class="account-card">
                            <h3>Subscription</h3>
                            <div class="subscription-info">
                                <div class="plan-badge free">Free Plan</div>
                                <p>Upgrade to unlock unlimited exports and APK building</p>
                                <button id="upgradeAccountBtn" class="btn btn-primary">Upgrade to Pro - $19/month</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Toast Notifications -->
        <div id="toastContainer" class="toast-container"></div>

        <!-- Modals -->
        <div id="modalContainer" class="modal-container"></div>
    </div>

    <!-- JavaScript Files -->
    <script src="js/utils.js"></script>
    <script src="js/ui-manager.js"></script>
    <script src="js/code-editor.js"></script>
    <script src="js/preview-manager.js"></script>
    <script src="js/template-manager.js"></script>
    <script src="js/ai-engine.js"></script>
    <script src="js/apk-builder.js"></script>
    <script src="js/license-manager.js"></script>
    <script src="js/user-manager.js"></script>
    <script src="js/app.js"></script>
    
    <!-- PWA Service Worker -->
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('service-worker.js')
                .then(() => console.log('Service Worker Registered'))
                .catch(err => console.log('Service Worker Registration Failed:', err));
        }
    </script>
</body>
</html>
